<!-- Beschreibung / Video -->
<section  id="detailDescription">
    <div class="row text-center">

        <div class="content-section-heading">
            <h2 class="mb-5">Beschreibung der Darstellung von Tabellen</h2>
        </div>

        <div class="col-lg-1"></div>
        <div class="col-lg-3 clo-lg-push-1 col-md-4 col-sm-6 col-xs-12 mb-5 mb-lg-0">
            
        </div>
        <div class="col-lg-4 col-md-4  col-sm-6 col-xs-12 mb-5 mb-lg-0">
            Beschreibung und Video
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12 mb-5 mb-lg-0">
            
        </div>
        <div class="col-lg-1"></div>
    </div>
</section>

<!-- Beispiel -->
<section  id="example">
    <div class="row text-center">

        <div class="content-section-heading">
            <h2 class="mb-5">Auszug aus dem Baumkataster</h2>
        </div>

        <div class="col-lg-1"></div>
        
        <div class="col-lg-10 col-md-12  col-sm-12 col-xs-12 mb-5 mb-lg-0">
        
            <!-- -->
            <div>
              <select id="filter-field">
                <option></option>
                <option value="name">Name</option>
                <option value="zustand">Zustand</option>
                <option value="datum">Datum</option>
              </select>

              <select id="filter-type">
                <option value="=">=</option>
                <option value="<"><</option>
                <option value="<="><=</option>
                <option value=">">></option>
                <option value=">=">>=</option>
                <option value="!=">!=</option>
                <option value="like">like</option>
              </select>

                <input id="filter-value" type="text" placeholder="value to filter">

                <button id="filter-clear">Filter löschen</button>
            </div>

            <div id="example-table"></div>
              
            <script>
                $(document).ready(function()
                {
                    // Define variables for input elements
                    var fieldEl = document.getElementById("filter-field");
                    var typeEl = document.getElementById("filter-type");
                    var valueEl = document.getElementById("filter-value");

                    // Custom filter example
                    function customFilter(data){
                        return data.car && data.rating < 3;
                    }

                    // Trigger setFilter function with correct parameters
                    function updateFilter()
                    {
                      var filterVal = fieldEl.options[fieldEl.selectedIndex].value;
                      var typeVal = typeEl.options[typeEl.selectedIndex].value;

                      var filter = filterVal;

                      if(filterVal == "function" )
                      {
                        typeEl.disabled = true;
                        valueEl.disabled = true;
                      }
                      else{
                        typeEl.disabled = false;
                        valueEl.disabled = false;
                      }

                      if(filterVal){
                        table.setFilter(filter,typeVal, valueEl.value);
                      }
                    }

                    // Update filters on value change
                    document.getElementById("filter-field").addEventListener("change", updateFilter);
                    document.getElementById("filter-type").addEventListener("change", updateFilter);
                    document.getElementById("filter-value").addEventListener("keyup", updateFilter);

                    // Clear filters on "Clear Filters" button click
                    document.getElementById("filter-clear").addEventListener("click", function(){
                      fieldEl.value = "";
                      typeEl.value = "=";
                      valueEl.value = "";

                      table.clearFilter();
                    });

                    var table = new Tabulator("#example-table", {
                        // height:"311px",
                        ajaxURL:"http://map.local/api/records/baumkataster", //ajax URL 
                        // layout:"fitDataFill", // streckt über gesamte Breite
                        layout:"fitDataTable", // Tabelle mit Mindestbreite 
                        // responsiveLayout:"hide",
                        pagination:"local",
                        paginationSize:5,
                        paginationSizeSelector:[5, 10, 20],
                        movableColumns:true,
                        columns:[
                            {title:"Messung", field:"messung"},
                            {title:"Baumnummer", field:"baumnummer"},
                            {title:"Lat", field:"lat"},
                            {title:"Lon", field:"lon"},
                            {title:"Typ", field:"typ"},
                            {title:"Zustand", field:"zustand", formatter:"star", formatterParams:{stars:5}, hozAlign:"center", width:120},
                            {title:"Name", field:"name"},
                            {title:"Information", field:"link" },
                            {title:"Datum", field:"datum"},
                        ],
                    });
                });
            </script> 
            
        </div>

        <div class="col-lg-1"></div>
    </div>
</section>