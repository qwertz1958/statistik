<!-- Beschreibung / Video -->
<section  id="detailDescription">
    <div class="row text-center">

        <div class="content-section-heading">
            <h2 class="mb-5">Beschreibung der Darstellung von Tabellen</h2>
        </div>

        <div class="col-lg-1"></div>
        <div class="col-lg-3 clo-lg-push-1 col-md-4 col-sm-6 col-xs-12 mb-5 mb-lg-0">
            
        </div>
        <div class="col-lg-4 col-md-4  col-sm-6 col-xs-12 mb-5 mb-lg-0">
            Beschreibung und Video
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12 mb-5 mb-lg-0">
            
        </div>
        <div class="col-lg-1"></div>
    </div>
</section>

<!-- Beispiel -->
<section  id="example">
    <div class="row text-center">

        <div class="content-section-heading">
            <h2 class="mb-5">Auszug aus dem Baumkataster</h2>
        </div>

        <div class="col-lg-1"></div>
        
        <div class="col-lg-10 col-md-12  col-sm-12 col-xs-12 mb-5 mb-lg-0">
        
            <!-- Filter -->
            <div id="filter">
              <select id="filter-field1">
                <option value="name">Name</option>
                <option value="zustand">Zustand</option>
                <option value="datum">Datum</option>
              </select>

              <select id="filter-type1">
                <option value="eq">=</option>
                <option value="lt"><</option>
                <option value="le"><=</option>
                <option value="gt">></option>
                <option value="ge">>=</option>
                <option value="n">!=</option>
              </select>

              <input id="filter-value1" type="text" placeholder="Filterwert">

              <button id="filter-set">Filter setzen</button>
              <button id="filter-clear">Filter löschen</button>
            </div>


            <div id="result"></div>
              
            <script>

                var table;

                // URL für Tbelle
                var tableURL = "/api/records/baumkataster"; 

                $(document).ready(function()
                {
                    table = new Tabulator("#result", {
                        ajaxURL:tableURL, //ajax URL 
                        layout:"fitDataTable", // Tabelle mit Mindestbreite 
                        pagination:"local",
                        paginationSize:10,
                        paginationSizeSelector:[10, 25, 50],
                        movableColumns:true,
                        columns:[
                            {title:"Messung", field:"messung"},
                            {title:"Baumnummer", field:"baumnummer"},
                            {title:"Lat", field:"lat"},
                            {title:"Lon", field:"lon"},
                            {title:"Typ", field:"typ"},
                            {title:"Zustand", field:"zustand", formatter:"star", formatterParams:{stars:5}, hozAlign:"center", width:120},
                            {title:"Name", field:"name"},
                            {title:"Information", field:"link", formatter:"link", formatterParams:{
                                labelField:"link",
                                target:"_blank",
                            }},
                            {title:"Datum", field:"datum"},
                        ],
                    });

                    $("#filter-set").on('click',function()
                    {
                        var resetURL = "/api/records/baumkataster?filter=";

                        var filterField1 = $("#filter-field1").val();
                        resetURL = resetURL + filterField1 + ",";

                        var filterTyp1 = $("#filter-type1").val();
                        resetURL = resetURL + filterTyp1 + ",";

                        var filterValue1 = $("#filter-value1").val();
                        resetURL = resetURL + filterValue1;

                        // alert(resetURL);                          
                         
                        $.get( resetURL, function( data ) {
                          table.clearData();
                          table.setData(resetURL); 
                        }); 
                    });

                    $("#filter-clear").on('click',function()
                    {
                      table.clearData();
                      table.setData(tableURL);
                    });

                });
            </script> 
            
        </div>

        <div class="col-lg-1"></div>
    </div>
</section>