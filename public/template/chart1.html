 <!-- Beschreibung -->
<section>
    <div class="row content-section text-center">

        <div class="content-section-heading">
            <h2 class="mb-5">Diagramme</h2>
        </div>

        <div class="col-lg-1"></div>
        <div class="col-lg-3 clo-lg-push-1 col-md-4 col-sm-6 col-xs-12 mb-5 mb-lg-0">
            
        </div>
        <div class="col-lg-4 col-md-4  col-sm-6 col-xs-12 mb-5 mb-lg-0">
            <code>URL: "/api/records/anzahlBaeume"</code>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12 mb-5 mb-lg-0">
            
        </div>
        <div class="col-lg-1"></div>
    </div>
</section>

<!-- Diagramme -->
<section  id="example">
    <div class="row text-center">

        <div class="content-section-heading">
            <h2 class="mb-5">grafische Darstellung des Baumkatasters</h2>
        </div>

        <div class="col-lg-3 col-md-2"></div>
        
        <div class="col-lg-6 col-md-8  col-sm-12 col-xs-12 mb-5 mb-lg-0">
        
            <canvas id="myChart"></canvas>

            <script>
                $(document).ready(function()
                {
                    var ctx = $('#myChart');

                    var url = "/api/records/anzahlBaeume";

                    var label = [];
                    var anzahl = [];
                    var color = [];

                    


                    // leeres Diagramm
                    var myChart = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: [],
                            datasets: [
                                {
                                    label: "Anzahl Bäume",
                                    fill: true, // Fläche füllen
                                    lineTension: 0.1,
                                    // backgroundColor: "rgba(77, 77, 255,0.6)", // Balkenfarbe
                                    backgroundColor: ['rgba(0, 0, 179, 0.4)'], // Balkenfarbe
                                    borderColor: "rgba(0, 0, 0, 1)", // Balkenrand
                                    borderCapStyle: 'butt',
                                    borderDash: [],
                                    borderDashOffset: 0.0,
                                    borderJoinStyle: 'miter',
                                    pointBorderColor: "rgba(75,192,192,1)",
                                    pointBackgroundColor: "#fff",
                                    pointBorderWidth: 1,
                                    pointHoverRadius: 5,
                                    pointHoverBackgroundColor: "rgba(75,192,192,1)",
                                    pointHoverBorderColor: "rgba(220,220,220,1)",
                                    pointHoverBorderWidth: 2,
                                    hoverBackgroundColor: 'rgba(200, 200, 200, 1)', // Maus über Abschnitt
                                    hoverBorderColor: 'rgba(200, 200, 200, 1)', // Maus über Abschnitt
                                    pointRadius: 1,
                                    pointHitRadius: 10,
                                    data: [],
                                    spanGaps: false,
                                }
                            ]
                        },
                        options: {
                            tooltips: {
                                mode: 'index',
                                intersect: false
                            }
                        }
                    });

                    $.get( url, function( data ) {
                        var j = data.length;

                        for(var i = 0; i < j; i++){
                            
                            label.push(data[i].label);
                            anzahl.push(data[i].anzahl);
                        }

                        // console.dir(color);
                        myChart.data.labels = label;
                        myChart.data.datasets[0].data = anzahl; // or you can iterate for multiple datasets

                        myChart.update(); // finally update our chart 
                    });
                    
                });

            </script>

            
        </div>

        <div class="col-lg-3 col-md-2"></div>
    </div>
</section>